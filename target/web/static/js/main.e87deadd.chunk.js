(this.webpackJsonpticketfrontend=this.webpackJsonpticketfrontend||[]).push([[0],{148:function(e,t,n){},149:function(e,t,n){},455:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),a=n(7),i=n.n(a),s=(n(148),n(23)),l=n(24),r=n(34),h=n(33),d=(n.p,n(149),n(29)),u=(n(150),n(46)),j=n(60),b=n(2),v=function(e){Object(r.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={name:"React",showBookingDetail:!0},e.handleShow=e.handleShow.bind(Object(d.a)(e)),e.handleClose=e.handleClose.bind(Object(d.a)(e)),e}return Object(l.a)(n,[{key:"handleShow",value:function(e){}},{key:"handleClose",value:function(e){this.props.handleClose(e)}},{key:"handleSave",value:function(e){this.props.handlePurchase(e)}},{key:"render",value:function(){var e=this,t=this.props.movie;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.a,{show:!0,onHide:function(){return e.handleClose()},backdrop:"static",keyboard:!1,children:[Object(b.jsx)(u.a.Header,{closeButton:!0,children:Object(b.jsx)(u.a.Title,{children:t.name})}),Object(b.jsx)(u.a.Body,{children:"Woohoo, you're reading this text in a modal!"}),Object(b.jsxs)(u.a.Footer,{children:[Object(b.jsx)(j.a,{variant:"secondary",onClick:function(){return e.handleClose()},children:"Close"}),Object(b.jsx)(j.a,{variant:"primary",onClick:function(){return e.handleSave()},children:"Checkout"})]})]})})}}]),n}(c.Component),k=n(61),m=n(144),O=(n(454),function(e){Object(r.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={name:"React",showBookingDetail:!1,selectedMovie:null},e.bookTicket=e.bookTicket.bind(Object(d.a)(e)),e.cancelTicket=e.cancelTicket.bind(Object(d.a)(e)),e.purchaseTicket=e.purchaseTicket.bind(Object(d.a)(e)),e}return Object(l.a)(n,[{key:"bookTicket",value:function(e){var t=this;console.log(e),fetch("http://localhost:8080/movies?mvid="+e).then((function(e){return e.json()})).then((function(e){console.log(e[0]),t.setState({selectedMovie:e[0]},(function(){return t.ReserveSeat()})),console.log("set data done")})).catch(console.log)}},{key:"ReserveSeat",value:function(){console.log("reserveSeat"),console.log(this.state.selectedMovie),this.setState({showBookingDetail:!0}),console.log("set done")}},{key:"cancelTicket",value:function(e){this.setState({selectedMovie:null}),this.setState({showBookingDetail:!1})}},{key:"purchaseTicket",value:function(e){this.setState({selectedMovie:null}),this.setState({showBookingDetail:!1})}},{key:"render",value:function(){var e=this.state.showBookingDetail,t=this.props.movies;return Object(b.jsxs)("div",{children:[e&&Object(b.jsx)(v,{movie:this.state.selectedMovie,handleClose:this.cancelTicket,handlePurchase:this.purchaseTicket}),Object(b.jsx)("center",{children:Object(b.jsx)("h1",{children:"Movie List"})}),Object(b.jsx)(m.a,{children:t.map((function(e){return Object(b.jsx)(k.a,{style:{width:"18rem"},children:Object(b.jsxs)(k.a.Body,{children:[Object(b.jsx)(k.a.Title,{children:e.name}),Object(b.jsx)(k.a.Text,{children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),null!=e.movieTime&&e.movieTime.map((function(e){return Object(b.jsxs)(j.a,{variant:"primary",children:["key=",e.from]},e.id)}))]})},e.id)}))})]})}}]),n}(c.Component)),f=function(e){Object(r.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var c=arguments.length,o=new Array(c),a=0;a<c;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={movies:[],showModal:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/movies").then((function(e){return e.json()})).then((function(t){e.setState({movies:t})})).catch(console.log)}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:"ABC Cinema"}),Object(b.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"---"}),Object(b.jsx)("p",{className:"card-text",children:"---"}),Object(b.jsx)(O,{movies:this.state.movies})]})})}}]),n}(c.Component),p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,457)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),p()}},[[455,1,2]]]);
//# sourceMappingURL=main.e87deadd.chunk.js.map